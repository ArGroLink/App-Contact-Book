{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Apps/App-Contact-Book/src/pages/_app.tsx"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\nimport contactReducer from \"./reducer\";\n\n// Функция для загрузки состояния из LocalStorage (только на клиенте)\nconst loadState = () => {\n  if (typeof window === \"undefined\") {\n    return { contactList: [] };\n  }\n\n  try {\n    const serializedState = localStorage.getItem(\"contacts\");\n    if (serializedState === null) {\n      return { contactList: [] };\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    console.error(\"Could not load state from localStorage:\", err);\n    return { contactList: [] };\n  }\n};\n\n// Функция для инициализации store\nexport const makeStore = () => {\n  const store = configureStore({\n    reducer: {\n      contacts: contactReducer,\n    },\n    preloadedState: {\n      contacts: loadState(),\n    },\n  });\n\n  // Сохраняем в localStorage при изменениях\n  if (typeof window !== \"undefined\") {\n    store.subscribe(() => {\n      try {\n        const state = store.getState();\n        localStorage.setItem(\"contacts\", JSON.stringify(state.contacts));\n      } catch (err) {\n        console.error(\"Could not save state to localStorage:\", err);\n      }\n    });\n  }\n\n  return store;\n};\n\nexport type AppStore = ReturnType<typeof makeStore>;\nexport type RootState = ReturnType<AppStore[\"getState\"]>;\nexport type AppDispatch = AppStore[\"dispatch\"];\n"],"names":[],"mappings":";;;;AAAA;;;;;;;;AAGA,qEAAqE;AACrE,MAAM,YAAY;IAChB,wCAAmC;QACjC,OAAO;YAAE,aAAa,EAAE;QAAC;IAC3B;;;AAYF;AAGO,MAAM,YAAY;IACvB,MAAM,QAAQ,IAAA,mJAAc,EAAC;QAC3B,SAAS;YACP,UAAU;QACZ;QACA,gBAAgB;YACd,UAAU;QACZ;IACF;IAEA,0CAA0C;IAC1C;;IAWA,OAAO;AACT","debugId":null}}]
}
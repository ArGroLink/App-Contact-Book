{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Apps/App-Contact-Book/src/store/reducer.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { Contact } from \"./types\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\ninterface ContactState {\r\n  contactList: Contact[];\r\n}\r\n\r\nconst initialState: ContactState = {\r\n  contactList: [],\r\n};\r\n\r\nconst contactSlice = createSlice({\r\n  name: \"contacts\",\r\n  initialState,\r\n  reducers: {\r\n    addContact: (state, action: PayloadAction<Omit<Contact, \"id\">>) => {\r\n      state.contactList.unshift({ ...action.payload, id: uuidv4() });\r\n    },\r\n    editContact: (state, action: PayloadAction<Contact>) => {\r\n      const index = state.contactList.findIndex(\r\n        (c) => c.id === action.payload.id\r\n      );\r\n      if (index !== -1) state.contactList[index] = action.payload;\r\n    },\r\n    deleteContact: (state, action: PayloadAction<string>) => {\r\n      state.contactList = state.contactList.filter(\r\n        (c) => c.id !== action.payload\r\n      );\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addContact, editContact, deleteContact } = contactSlice.actions;\r\nexport default contactSlice.reducer;\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAEA;;;;;;;AAMA,MAAM,eAA6B;IACjC,aAAa,EAAE;AACjB;AAEA,MAAM,eAAe,IAAA,gJAAW,EAAC;IAC/B,MAAM;IACN;IACA,UAAU;QACR,YAAY,CAAC,OAAO;YAClB,MAAM,WAAW,CAAC,OAAO,CAAC;gBAAE,GAAG,OAAO,OAAO;gBAAE,IAAI,IAAA,8GAAM;YAAG;QAC9D;QACA,aAAa,CAAC,OAAO;YACnB,MAAM,QAAQ,MAAM,WAAW,CAAC,SAAS,CACvC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO,CAAC,EAAE;YAEnC,IAAI,UAAU,CAAC,GAAG,MAAM,WAAW,CAAC,MAAM,GAAG,OAAO,OAAO;QAC7D;QACA,eAAe,CAAC,OAAO;YACrB,MAAM,WAAW,GAAG,MAAM,WAAW,CAAC,MAAM,CAC1C,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO;QAElC;IACF;AACF;AAEO,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,aAAa,EAAE,GAAG,aAAa,OAAO;uCAC/D,aAAa,OAAO","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Apps/App-Contact-Book/src/pages/_app.tsx"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\nimport contactReducer from \"../store/reducer\";\n\n// Функция для загрузки состояния из LocalStorage (только на клиенте)\nconst loadState = () => {\n  if (typeof window === \"undefined\") {\n    return { contactList: [] };\n  }\n\n  try {\n    const serializedState = localStorage.getItem(\"contacts\");\n    if (serializedState === null) {\n      return { contactList: [] };\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    console.error(\"Could not load state from localStorage:\", err);\n    return { contactList: [] };\n  }\n};\n\n// Функция для инициализации store\nexport const makeStore = () => {\n  const store = configureStore({\n    reducer: {\n      contacts: contactReducer,\n    },\n    preloadedState: {\n      contacts: loadState(),\n    },\n  });\n\n  // Сохраняем в localStorage при изменениях\n  if (typeof window !== \"undefined\") {\n    store.subscribe(() => {\n      try {\n        const state = store.getState();\n        localStorage.setItem(\"contacts\", JSON.stringify(state.contacts));\n      } catch (err) {\n        console.error(\"Could not save state to localStorage:\", err);\n      }\n    });\n  }\n\n  return store;\n};\n\nexport type AppStore = ReturnType<typeof makeStore>;\nexport type RootState = ReturnType<AppStore[\"getState\"]>;\nexport type AppDispatch = AppStore[\"dispatch\"];\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AAEA,qEAAqE;AACrE,MAAM,YAAY;IAChB,wCAAmC;QACjC,OAAO;YAAE,aAAa,EAAE;QAAC;IAC3B;;;AAYF;AAGO,MAAM,YAAY;IACvB,MAAM,QAAQ,IAAA,mJAAc,EAAC;QAC3B,SAAS;YACP,UAAU,2HAAc;QAC1B;QACA,gBAAgB;YACd,UAAU;QACZ;IACF;IAEA,0CAA0C;IAC1C;;IAWA,OAAO;AACT","debugId":null}}]
}